---
description: Some rules for Prolog files
globs: "*.pl"
alwaysApply: true
---

# Commands

- `just lint-len` to lint the length of the lines
- `just lint-all` to lint all the files
- `just test-all` to test all the files
- `just test-all-verbose` to test all the files with verbose
   output
- `just lint` to lint a single file
- `just test` to test a single file
- `just test-verbose` to test a single file with verbose
   output

# Discouraged Tokens in Prolog Files

Instead of the discouraged tokens, use CLP(Z) constraints:

- Instead of `is`: Use CLP(Z) constraints like `#=` for
  equality
- Instead of `<`: Use `#<` from CLP(Z)
- Instead of `>`: Use `#>` from CLP(Z)
- Instead of `=<`: Use `#=<` from CLP(Z)
- Instead of `>=`: Use `#>=` from CLP(Z)
- Instead of `get_assoc`: Use `gen_assoc`.

# Max 60 characters per line

Yes.

# This project is a one-file monolith

Since Prolog's modules system is so bad I decided to
that it's better to bypass it as much as possible. I do this
by introducing a build step that concatenates all the files
together with gpp into a single file. scryer-prolog is fed
that one file, this all my code is in the same namespace.

# Please use accessors and constructors

Please use the accessors and constructors provided in the
types/accessors.pl and types/constructors.pl files. That
makes the code more robust when if I add or remove fields
from entities. Feel free to refactor code you see to use
accessors and constructors. Also if certain accessors or
constructors are not available, feel free to add them.