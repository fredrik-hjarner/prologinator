lint:
	cd prolog && swipl --on-warning=status --on-error=status -g check -t halt -l game.pl

multilint:
	cd prolog && LINT_FILES=game.pl swipl multilint.pl

stats:
	bun scripts/file-stats.ts combat_narration.pl game.pl outcomes.pl typewriter.pl config.pl

lint-all:
    just lint
    just test
    MAX_LENGTH=60 bun scripts/check-line-length.ts build_executable.pl
    MAX_LENGTH=60 bun scripts/check-line-length.ts combat_narration.pl
    MAX_LENGTH=60 bun scripts/check-line-length.ts combat_narration.test.pl
    MAX_LENGTH=60 bun scripts/check-line-length.ts config.pl
    MAX_LENGTH=70 bun scripts/check-line-length.ts game.pl
    MAX_LENGTH=80 bun scripts/check-line-length.ts lint.pl
    MAX_LENGTH=60 bun scripts/check-line-length.ts main.pl
    MAX_LENGTH=60 bun scripts/check-line-length.ts main_wasm.pl
    MAX_LENGTH=60 bun scripts/check-line-length.ts multilint.pl
    MAX_LENGTH=132 bun scripts/check-line-length.ts outcomes.pl
    MAX_LENGTH=60 bun scripts/check-line-length.ts run_tests.pl
    MAX_LENGTH=60 bun scripts/check-line-length.ts test5.pl
    MAX_LENGTH=80 bun scripts/check-line-length.ts typewriter.pl
    MAX_LENGTH=60 bun scripts/check-line-length.ts __tests__/battle.plt
    MAX_LENGTH=60 bun scripts/check-line-length.ts __tests__/combat_narration.plt
    MAX_LENGTH=60 bun scripts/check-line-length.ts __tests__/determines_action.plt
    MAX_LENGTH=60 bun scripts/check-line-length.ts __tests__/do_round.plt
    MAX_LENGTH=60 bun scripts/check-line-length.ts __tests__/exchange_damage.plt
    MAX_LENGTH=60 bun scripts/check-line-length.ts __tests__/narrate_outcome.plt
    MAX_LENGTH=60 bun scripts/check-line-length.ts __tests__/outcome.plt
